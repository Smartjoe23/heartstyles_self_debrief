<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Heartstyles Self‑Debrief v4.3 — Sandoz style</title>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{--dark:#001C4A;--sandoz:#1C59B5;--med:#5DA6FF;--light:#A8D5FF;--ink:#0B1020;--muted:#5b6b8a;--line:#e6eefc;--bg:#F7FAFF;--card:#ffffff;--ok:#e7f8ef;--mid:#fff8e6;--risk:#ffefef}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:"Open Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,"Helvetica Neue",Helvetica,system-ui,sans-serif;line-height:1.5}
  header{position:sticky;top:0;background:linear-gradient(90deg,var(--dark),var(--sandoz));color:#fff;z-index:10}
  .wrap{max-width:1100px;margin:0 auto;padding:14px}
  h1{font-size:22px;margin:0 0 6px 0;font-weight:700;letter-spacing:.2px}
  .brandbar{height:6px;background:linear-gradient(90deg,var(--dark),var(--sandoz),var(--med),var(--light));border-radius:6px;margin-top:6px}
  .chips{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
  .chip{display:inline-block;background:#ecf3ff;color:var(--dark);border:1px solid var(--line);padding:6px 12px;border-radius:999px;font-size:12px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;margin:12px 0;box-shadow:0 1px 0 rgba(0,0,0,.02)}
  h2{font-size:18px;margin:10px 0 8px;color:var(--dark)}
  h3{font-size:15px;margin:10px 0 6px;color:var(--sandoz)}
  label,small{font-size:14px}
  .row{display:flex;gap:12px;flex-wrap:wrap}
  .col{flex:1 1 260px}
  input[type="number"],input[type="text"],input[type="email"]{width:100%;padding:10px;border:1px solid #d7e3fb;border-radius:10px;background:#fff;box-sizing:border-box}
  input:focus{outline:none;border-color:var(--sandoz);box-shadow:0 0 0 3px rgba(28,89,181,.12)}
  .btn{border:1px solid #d7e3fb;background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer;font-size:14px;color:var(--dark);font-weight:600}
  .btn.primary{background:var(--sandoz);color:#fff;border-color:var(--sandoz)}
  .btn.small{font-size:12px;padding:6px 10px}
  table{width:100%;border-collapse:collapse}
  th,td{border:1px solid var(--line);padding:8px;vertical-align:top;font-size:13px}
  th{background:#ecf3ff;text-align:left;color:var(--dark)}
  .zone-ok{background:var(--ok)} .zone-mid{background:var(--mid)} .zone-risk{background:var(--risk)}
  .grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
  @media (max-width:900px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
  @media (max-width:560px){.grid{grid-template-columns:1fr}}
  .quad{border:1px solid var(--line);border-radius:12px;padding:12px;background:#f7fbff}
  .quad h4{margin:0 0 6px 0;color:var(--sandoz);font-size:14px}
  .legend{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .badge{border-radius:6px;border:1px solid #d7e3fb;padding:2px 6px;font-size:12px;background:#fff}
  .out{white-space:pre-wrap;background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
  .footer{color:var(--muted);font-size:12px}
</style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Heartstyles Self‑Debrief v4.3 <span style="font-weight:400;font-size:12px;opacity:.9">Universal · Sandoz style</span></h1>
      <div class="brandbar"></div>
      <div class="chips">
        <span class="chip">Detailed: 16 styles (main)</span>
        <span class="chip">Auto: Quadrants summary (extra)</span>
        <span class="chip">Print / Save PDF</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <h2>0) About you</h2>
      <div class="row">
        <div class="col"><label>Full name</label><input id="name" type="text" placeholder="e.g., Ana Novak"></div>
        <div class="col"><label>Email (optional)</label><input id="email" type="email" placeholder="e.g., ana@company.com"></div>
        <div class="col"><label>Role (optional)</label><input id="role" type="text" placeholder="e.g., Sales / KAM, Manager / FLM, ..."></div>
        <div class="col"><label>Market / Team (optional)</label><input id="market" type="text" placeholder="e.g., Slovenia"></div>
      </div>
      <small class="footer">Data stays in your browser unless you print.</small>
    </div>

    <div class="card">
      <h2>1) Enter your scores — 16 styles</h2>
      <div class="legend">
        <span class="badge zone-ok">85–100 = Strength</span>
        <span class="badge zone-mid">60–84 = Needs attention</span>
        <span class="badge zone-risk">0–59 = Risk area</span>
        <span class="footer">Benchmark is optional.</span>
      </div>
      <div id="inputs"></div>
      <div class="row" style="margin-top:10px">
        <button class="btn primary" onclick="run()">Run interpretation</button>
        <button class="btn" onclick="clearAll()">Clear</button>
      </div>
    </div>

    <div class="card">
      <h2>2) Main: 16 styles interpretation</h2>
      <div id="stylesOut" class="out">Fill scores above and click “Run interpretation”.</div>
    </div>

    <div class="card">
      <h2>3) Extra: Quadrants (auto‑calculated)</h2>
      <div id="quads" class="grid"></div>
      <small class="footer">Quadrant scores are averages of the four styles in each quadrant.</small>
    </div>

    <div class="card">
      <h2>Save / Share</h2>
      <div class="row" style="gap:8px">
        <button class="btn" onclick="window.print()">Print / Save PDF</button>
      </div>
    </div>
  </main>

<script>
const STYLES = [
  {q:"ATL · Humility", s:"Authentic"},
  {q:"ATL · Humility", s:"Transforming"},
  {q:"ATL · Humility", s:"Reliable"},
  {q:"ATL · Humility", s:"Achieving"},
  {q:"ATL · Love", s:"Relating"},
  {q:"ATL · Love", s:"Encouraging"},
  {q:"ATL · Love", s:"Developing"},
  {q:"ATL · Love", s:"Compassionate"},
  {q:"BTL · Pride", s:"Sarcastic Humour"},
  {q:"BTL · Pride", s:"Competitive"},
  {q:"BTL · Pride", s:"Controlling"},
  {q:"BTL · Pride", s:"Striving"},
  {q:"BTL · Fear", s:"Approval"},
  {q:"BTL · Fear", s:"Easily Offended"},
  {q:"BTL · Fear", s:"Dependent"},
  {q:"BTL · Fear", s:"Avoiding"},
];

const NARR = {
  "Authentic": {m:"Direct, honest, values‑based communication.", help:"Builds trust and clarity.", risk:"Over‑sharing can unsettle others.", swap:"Name the fact + your intent.", step:"Open one meeting with: “My intent today is…”"},
  "Transforming": {m:"Learns from feedback and adapts.", help:"Faster improvement.", risk:"Too many changes too fast.", swap:"Stick to one change for 2 weeks.", step:"Ask for micro‑feedback after next meeting."},
  "Reliable": {m:"Consistent follow‑through.", help:"Predictability; lowers friction.", risk:"Rigidity under change.", swap:"Signal risk early; lock follow‑ups.", step:"Send proactive status before due."},
  "Achieving": {m:"Proactive, initiates progress.", help:"Momentum; ownership.", risk:"Overextension.", swap:"One high‑leverage move weekly.", step:"Book one proactive meeting in 7 days."},
  "Relating": {m:"Builds meaningful relationships.", help:"Access, smoother work.", risk:"Avoids tough talk.", swap:"Care + clarity.", step:"Ask one value‑focused question per meeting."},
  "Encouraging": {m:"Recognises progress; energises.", help:"Motivation.", risk:"Praise without direction.", swap:"Pair praise with next step.", step:"Give precise recognition + ask next step."},
  "Developing": {m:"Coaches and grows others.", help:"Capability scaling.", risk:"Over‑helping.", swap:"Ask before advising; co‑create.", step:"Run a 10‑min coaching check‑in."},
  "Compassionate": {m:"Empathy; sees context.", help:"Safety; insight.", risk:"Avoids challenge.", swap:"Empathy + boundary.", step:"Reflect feeling, then state the ask."},
  "Sarcastic Humour": {m:"Cutting humour to deflect/criticise.", help:"Rarely productive.", risk:"Erodes trust.", swap:"Plain, respectful wording.", step:"Replace one joke‑with‑a‑sting with a fact."},
  "Competitive": {m:"Treats work as a contest.", help:"Drive.", risk:"Short‑term win over long‑term.", swap:"Define sustainable win.", step:"Ask counterpart’s success criteria first."},
  "Controlling": {m:"Low trust in others’ execution.", help:"Short‑term quality.", risk:"Bottlenecks; low ownership.", swap:"Outcome clarity + autonomy.", step:"Delegate one decision with a boundary."},
  "Striving": {m:"Perfection under fear.", help:"High bar when healthy.", risk:"Delay, burnout.", swap:"Define ‘good enough’ + date.", step:"Ship v1 by a date, then iterate."},
  "Approval": {m:"Seeks to be liked; avoids ‘no’.", help:"Warmth.", risk:"Boundary/margin loss.", swap:"Respectful boundary.", step:"Prepare one firm ‘no’ phrase."},
  "Easily Offended": {m:"Takes things personally.", help:"Tone sensitivity.", risk:"Ruminates; conflict drags.", swap:"Assume positive intent; clarify.", step:"Ask: “What did you intend?” once this week."},
  "Dependent": {m:"Seeks permission before acting.", help:"Avoids missteps.", risk:"Slow; low ownership.", swap:"Make the smallest ‘own call’.", step:"Decide one item within your mandate today."},
  "Avoiding": {m:"Dodges hard topics.", help:"Short‑term calm.", risk:"Issues linger; trust drops.", swap:"Name the issue early.", step:"Open one tough topic with a neutral fact."}
};

const QUADS = {
  "ATL · Humility": ["Authentic","Transforming","Reliable","Achieving"],
  "ATL · Love": ["Relating","Encouraging","Developing","Compassionate"],
  "BTL · Pride": ["Sarcastic Humour","Competitive","Controlling","Striving"],
  "BTL · Fear": ["Approval","Easily Offended","Dependent","Avoiding"]
};

function zone(score){ if(score>=85) return "zone-ok"; if(score>=60) return "zone-mid"; return "zone-risk"; }

function makeInputs(){
  const host = document.getElementById('inputs');
  const tbl = document.createElement('table');
  tbl.innerHTML = "<thead><tr><th>Quadrant</th><th>Style</th><th>Self (0–100)</th><th>Benchmark (opt.)</th></tr></thead>";
  const tb = document.createElement('tbody');
  STYLES.forEach((it,i)=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${it.q}</td><td>${it.s}</td>
      <td><input type="number" id="sf_${i}" min="0" max="100" placeholder=""></td>
      <td><input type="number" id="bm_${i}" min="0" max="100" placeholder=""></td>`;
    tb.appendChild(tr);
  });
  tbl.appendChild(tb); host.appendChild(tbl);
}

function run(){
  const rows = STYLES.map((it,i)=>{
    const sfv=document.getElementById('sf_'+i).value, bmv=document.getElementById('bm_'+i).value;
    const sf = sfv===''?null:Math.max(0,Math.min(100,Number(sfv)));
    const bm = bmv===''?null:Math.max(0,Math.min(100,Number(bmv)));
    return {...it, sf, bm, d:(sf!=null && bm!=null)?(sf-bm):null};
  });
  renderStyles(rows);
  renderQuadrants(rows);
  window.scrollTo({top: document.querySelector('#stylesOut').offsetTop - 60, behavior:'smooth'});
}

function cell(text, cls=""){ return `<td class="${cls}">${text}</td>`; }

function renderStyles(rows){
  let html = "<table><thead><tr><th>Quadrant</th><th>Style</th><th>Self</th><th>Benchmark</th><th>Δ</th><th>Interpretation</th></tr></thead><tbody>";
  rows.forEach(r=>{
    const s = (r.sf==null)?"—":r.sf;
    const b = (r.bm==null)?"—":r.bm;
    const d = (r.d==null)?"—":(r.d>0?`+${r.d}`:`${r.d}`);
    const z = r.sf==null ? "" : zone(r.sf);
    const n = NARR[r.s];
    let text = "";
    if(r.sf==null){
      text = "Add a Self score to see guidance.";
    }else{
      const tone = (r.q.startsWith("ATL") ? (r.sf>=85?"Strength":"") : (r.sf>=85?"Risk (BTL high)":""));
      const what = `What it means: ${n.m}`;
      const why  = r.q.startsWith("ATL") ? `Why it helps: ${n.help}` : `Risk if high: ${n.risk}`;
      const tryit = `Try this week: ${n.step}`;
      const swap = `Useful phrase: ${n.swap}`;
      text = [tone, what, why, tryit, swap].filter(Boolean).join(" • ");
      if(r.d!=null){
        if(r.d>=10) text += " • Note: Self ≫ Benchmark — sense‑check with others where this shows up.";
        if(r.d<=-10) text += " • Note: Self ≪ Benchmark — what gets in the way of applying this?";
      }
    }
    html += `<tr>${cell(r.q)}${cell(r.s)}${cell(s,z)}${cell(b)}${cell(d)}${cell(text)}</tr>`;
  });
  html += "</tbody></table>";
  document.getElementById('stylesOut').innerHTML = html;
}

function renderQuadrants(rows){
  const byStyle = Object.fromEntries(rows.map(r=>[r.s, r.sf]));
  const host = document.getElementById('quads'); host.innerHTML = "";
  Object.entries(QUADS).forEach(([quad, list])=>{
    const vals = list.map(name=>byStyle[name]).filter(v=>v!=null);
    const avg = vals.length? Math.round(vals.reduce((a,b)=>a+b,0)/vals.length) : null;
    const cls = avg==null? "" : zone(avg);
    const interp = quadInterp(quad, avg);
    const advice = quadAdvice(quad, avg);
    const card = document.createElement('div');
    card.className = `quad ${cls}`;
    card.innerHTML = `<h4>${quad}${avg==null?"":" — Avg "+avg}</h4>
      <div>${interp}</div>
      <div><strong>Try:</strong> ${advice}</div>
      <small class="footer">Based on your 16 style scores.</small>`;
    host.appendChild(card);
  });
}

function quadInterp(quad, avg){
  if(avg==null) return "Not enough data to calculate this quadrant.";
  const high = avg>=85, mid = avg>=60 && avg<85;
  if(quad.startsWith("ATL")){
    if(high) return "Strength: others likely feel both trust and clarity from you.";
    if(mid)  return "Okay but can drop in tough moments — keep practising.";
    return "Looks low — under pressure constructive behaviours may drop.";
  }else{
    if(high) return "Caution: BTL signals are high — risk of unhelpful patterns under pressure.";
    if(mid)  return "Some BTL signals present — watch your triggers.";
    return "Good: low BTL signals — keep the conditions that support this.";
  }
}
function quadAdvice(quad, avg){
  if(avg==null) return "Add more style scores to enable guidance.";
  if(quad==="ATL · Humility") return (avg>=85)?"Keep opening meetings with intent & risk.":"State your intent early; admit one risk you see.";
  if(quad==="ATL · Love")     return (avg>=85)?"Keep pairing care with clarity.":"Add one value‑adding touch and one coaching moment this week.";
  if(quad==="BTL · Pride")    return (avg>=60)?"Delegate one decision with clear guardrails.":"Maintain outcome clarity; avoid micromanaging.";
  if(quad==="BTL · Fear")     return (avg>=60)?"Prepare a respectful ‘no’; name one tough topic early.":"Keep clear boundaries; acknowledge concerns early.";
  return "";
}

function clearAll(){
  STYLES.forEach((_,i)=>{document.getElementById('sf_'+i).value='';document.getElementById('bm_'+i).value='';});
  document.getElementById('stylesOut').textContent = "Cleared. Fill scores and run again.";
  document.getElementById('quads').innerHTML = "";
}

makeInputs();
</script>
</body>
</html>
